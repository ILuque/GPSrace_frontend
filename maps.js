/*   maps.js - Iker Luque
 **
 **  contains functions to manage map, map events and ajax calls
 **
 */


// myMap is a namespace for all public var and methods
(function(myMap, $, undefined) {
    /*  ---- Google maps ----  */


    /* values for DEMO map background
    ** OTHERWISE get this data from the DB  race>stage
    */
    var ini = {};
    ini.lat = 41.988034;
    ini.lng = -2.693975;
    ini.zoom = 12;
    var routeCoordinates = [{ lat: 41.968550, lng: -2.621706 }, { lat: 41.968147, lng: -2.621134 }, { lat: 41.967539, lng: -2.620665 }, { lat: 41.966951, lng: -2.620590 }, { lat: 41.966345, lng: -2.620882 }, { lat: 41.965701, lng: -2.621541 }, { lat: 41.965058, lng: -2.622280 }, { lat: 41.964414, lng: -2.623018 }, { lat: 41.963771, lng: -2.623888 }, { lat: 41.963069, lng: -2.624600 }, { lat: 41.962679, lng: -2.625179 }, { lat: 41.962448, lng: -2.626387 }, { lat: 41.962257, lng: -2.627779 }, { lat: 41.962006, lng: -2.628856 }, { lat: 41.961441, lng: -2.629541 }, { lat: 41.960522, lng: -2.630071 }, { lat: 41.959565, lng: -2.630523 }, { lat: 41.958587, lng: -2.630895 }, { lat: 41.957529, lng: -2.630796 }, { lat: 41.956531, lng: -2.630854 }, { lat: 41.955707, lng: -2.630386 }, { lat: 41.955022, lng: -2.630364 }, { lat: 41.954417, lng: -2.630892 }, { lat: 41.954107, lng: -2.631864 }, { lat: 41.953680, lng: -2.633126 }, { lat: 41.953587, lng: -2.634674 }, { lat: 41.953337, lng: -2.636039 }, { lat: 41.953107, lng: -2.637273 }, { lat: 41.953130, lng: -2.638322 }, { lat: 41.953290, lng: -2.639502 }, { lat: 41.953431, lng: -2.640708 }, { lat: 41.953669, lng: -2.641572 }, { lat: 41.954181, lng: -2.642172 }, { lat: 41.954634, lng: -2.642904 }, { lat: 41.954834, lng: -2.644424 }, { lat: 41.954996, lng: -2.645971 }, { lat: 41.955002, lng: -2.647624 }, { lat: 41.955007, lng: -2.649303 }, { lat: 41.954874, lng: -2.650431 }, { lat: 41.955111, lng: -2.651296 }, { lat: 41.955349, lng: -2.652160 }, { lat: 41.955665, lng: -2.652866 }, { lat: 41.955315, lng: -2.653629 }, { lat: 41.955278, lng: -2.654180 }, { lat: 41.955456, lng: -2.654887 }, { lat: 41.955557, lng: -2.655647 }, { lat: 41.955540, lng: -2.656460 }, { lat: 41.955406, lng: -2.657510 }, { lat: 41.955312, lng: -2.658743 }, { lat: 41.955314, lng: -2.659320 }, { lat: 41.955826, lng: -2.660131 }, { lat: 41.955985, lng: -2.660733 }, { lat: 41.955811, lng: -2.661547 }, { lat: 41.956108, lng: -2.662490 }, { lat: 41.956542, lng: -2.663668 }, { lat: 41.957133, lng: -2.664793 }, { lat: 41.957782, lng: -2.665681 }, { lat: 41.958175, lng: -2.665994 }, { lat: 41.958744, lng: -2.666227 }, { lat: 41.959313, lng: -2.666459 }, { lat: 41.959901, lng: -2.666718 }, { lat: 41.960333, lng: -2.667110 }, { lat: 41.960395, lng: -2.668027 }, { lat: 41.960242, lng: -2.669182 }, { lat: 41.959287, lng: -2.670578 }, { lat: 41.958155, lng: -2.672079 }, { lat: 41.957064, lng: -2.673737 }, { lat: 41.956381, lng: -2.675011 }, { lat: 41.956637, lng: -2.676304 }, { lat: 41.957064, lng: -2.677599 }, { lat: 41.957492, lng: -2.678894 }, { lat: 41.958583, lng: -2.679335 }, { lat: 41.959915, lng: -2.679409 }, { lat: 41.961381, lng: -2.679141 }, { lat: 41.963436, lng: -2.678709 }, { lat: 41.965467, lng: -2.678278 }, { lat: 41.967715, lng: -2.677747 }, { lat: 41.968779, lng: -2.677580 }, { lat: 41.970614, lng: -2.676468 }, { lat: 41.972496, lng: -2.675000 }, { lat: 41.973268, lng: -2.674218 }, { lat: 41.973825, lng: -2.674150 }, { lat: 41.974382, lng: -2.674504 }, { lat: 41.974820, lng: -2.675149 }, { lat: 41.974970, lng: -2.676996 }, { lat: 41.975013, lng: -2.678004 }, { lat: 41.975255, lng: -2.679173 }, { lat: 41.975878, lng: -2.680128 }, { lat: 41.976762, lng: -2.680731 }, { lat: 41.977153, lng: -2.681105 }, { lat: 41.977507, lng: -2.681462 }, { lat: 41.978118, lng: -2.682405 }, { lat: 41.978729, lng: -2.683135 }, { lat: 41.979290, lng: -2.683621 }, { lat: 41.979462, lng: -2.683946 }, { lat: 41.979476, lng: -2.684810 }, { lat: 41.979600, lng: -2.685592 }, { lat: 41.980114, lng: -2.686242 }, { lat: 41.980821, lng: -2.686711 }, { lat: 41.981296, lng: -2.687002 }, { lat: 41.981140, lng: -2.687541 }, { lat: 41.980581, lng: -2.687788 }, { lat: 41.979852, lng: -2.687987 }, { lat: 41.979037, lng: -2.688039 }, { lat: 41.978198, lng: -2.687945 }, { lat: 41.977358, lng: -2.687949 }, { lat: 41.976945, lng: -2.687902 }, { lat: 41.976582, lng: -2.688540 }, { lat: 41.976011, lng: -2.688966 }, { lat: 41.975720, lng: -2.689147 }, { lat: 41.975197, lng: -2.689247 }, { lat: 41.974638, lng: -2.689233 }, { lat: 41.974054, lng: -2.689301 }, { lat: 41.973471, lng: -2.689597 }, { lat: 41.972962, lng: -2.690202 }, { lat: 41.972623, lng: -2.690986 }, { lat: 41.972516, lng: -2.691590 }, { lat: 41.972311, lng: -2.692243 }, { lat: 41.972106, lng: -2.692912 }, { lat: 41.971949, lng: -2.693271 }, { lat: 41.971524, lng: -2.693616 }, { lat: 41.971088, lng: -2.694025 }, { lat: 41.970640, lng: -2.694712 }, { lat: 41.970252, lng: -2.695415 }, { lat: 41.970255, lng: -2.696213 }, { lat: 41.970598, lng: -2.697271 }, { lat: 41.971198, lng: -2.698247 }, { lat: 41.971918, lng: -2.699173 }, { lat: 41.972639, lng: -2.700099 }, { lat: 41.973360, lng: -2.701024 }, { lat: 41.973763, lng: -2.701674 }, { lat: 41.974204, lng: -2.702765 }, { lat: 41.974718, lng: -2.703855 }, { lat: 41.975281, lng: -2.704895 }, { lat: 41.975770, lng: -2.705790 }, { lat: 41.976538, lng: -2.706210 }, { lat: 41.977415, lng: -2.706548 }, { lat: 41.978402, lng: -2.706658 }, { lat: 41.979522, lng: -2.706668 }, { lat: 41.980507, lng: -2.706680 }, { lat: 41.980788, lng: -2.706842 }, { lat: 41.980720, lng: -2.707658 }, { lat: 41.980462, lng: -2.708866 }, { lat: 41.980132, lng: -2.709599 }, { lat: 41.980230, lng: -2.710583 }, { lat: 41.980588, lng: -2.711630 }, { lat: 41.981064, lng: -2.712104 }, { lat: 41.981801, lng: -2.712672 }, { lat: 41.982585, lng: -2.713241 }, { lat: 41.983178, lng: -2.713333 }, { lat: 41.983748, lng: -2.713489 }, { lat: 41.985077, lng: -2.713991 }, { lat: 41.986524, lng: -2.714493 }, { lat: 41.988185, lng: -2.714930 }, { lat: 41.989743, lng: -2.715366 }, { lat: 41.990808, lng: -2.715053 }, { lat: 41.991872, lng: -2.714772 }, { lat: 41.992912, lng: -2.714459 }, { lat: 41.993480, lng: -2.713986 }, { lat: 41.993708, lng: -2.713417 }, { lat: 41.993949, lng: -2.712881 }, { lat: 41.994517, lng: -2.712408 }, { lat: 41.995085, lng: -2.711983 }, { lat: 41.995666, lng: -2.712191 }, { lat: 41.995921, lng: -2.712109 }, { lat: 41.996271, lng: -2.711782 }, { lat: 41.996888, lng: -2.711763 }, { lat: 41.997470, lng: -2.711874 }, { lat: 41.997941, lng: -2.711661 }, { lat: 41.998412, lng: -2.711204 }, { lat: 41.998931, lng: -2.710699 }, { lat: 41.999402, lng: -2.710177 }, { lat: 41.999571, lng: -2.709560 }, { lat: 42.000018, lng: -2.709460 }, { lat: 42.000286, lng: -2.709913 }, { lat: 42.000167, lng: -2.710757 }, { lat: 41.999916, lng: -2.711617 }, { lat: 41.999809, lng: -2.712510 }, { lat: 41.999799, lng: -2.713061 }, { lat: 41.999571, lng: -2.713775 }, { lat: 41.999876, lng: -2.714828 }, { lat: 42.000267, lng: -2.715946 }, { lat: 42.000693, lng: -2.716998 }, { lat: 42.001033, lng: -2.717548 }, { lat: 42.001228, lng: -2.717806 }, { lat: 42.001156, lng: -2.718114 }, { lat: 42.001085, lng: -2.718423 }, { lat: 42.001134, lng: -2.718812 }, { lat: 42.001196, lng: -2.719184 }, { lat: 42.000919, lng: -2.719428 }, { lat: 42.000157, lng: -2.719513 }, { lat: 41.999068, lng: -2.719420 }, { lat: 41.997955, lng: -2.719327 }, { lat: 41.997113, lng: -2.719092 }, { lat: 41.996155, lng: -2.718945 }, { lat: 41.995442, lng: -2.719300 }, { lat: 41.995237, lng: -2.719754 }, { lat: 41.995408, lng: -2.720610 }, { lat: 41.996126, lng: -2.722143 }, { lat: 41.996618, lng: -2.723224 }, { lat: 41.996657, lng: -2.723702 }, { lat: 41.996395, lng: -2.723980 }, { lat: 41.996415, lng: -2.724736 }, { lat: 41.996512, lng: -2.725642 }, { lat: 41.996325, lng: -2.725945 }, { lat: 41.995686, lng: -2.725948 }, { lat: 41.995160, lng: -2.725975 }, { lat: 41.994634, lng: -2.725977 }, { lat: 41.994014, lng: -2.725778 }, { lat: 41.993394, lng: -2.725730 }, { lat: 41.992812, lng: -2.726009 }, { lat: 41.992006, lng: -2.726818 }, { lat: 41.991425, lng: -2.727249 }, { lat: 41.990993, lng: -2.727402 }, { lat: 41.990299, lng: -2.727933 }, { lat: 41.989623, lng: -2.728087 }, { lat: 41.989530, lng: -2.728389 }, { lat: 41.989193, lng: -2.728718 }, { lat: 41.988838, lng: -2.729324 }, { lat: 41.988557, lng: -2.729904 }, { lat: 41.988615, lng: -2.730483 }, { lat: 41.988466, lng: -2.730685 }, { lat: 41.987977, lng: -2.730636 }, { lat: 41.987546, lng: -2.730839 }, { lat: 41.987416, lng: -2.731394 }, { lat: 41.987436, lng: -2.731897 }, { lat: 41.986704, lng: -2.732127 }, { lat: 41.985915, lng: -2.732206 }, { lat: 41.985388, lng: -2.731704 }, { lat: 41.984766, lng: -2.730824 }, { lat: 41.984088, lng: -2.730147 }, { lat: 41.983391, lng: -2.729218 }, { lat: 41.982732, lng: -2.728540 }, { lat: 41.982281, lng: -2.728592 }, { lat: 41.981794, lng: -2.729299 }, { lat: 41.981214, lng: -2.730158 }, { lat: 41.980596, lng: -2.730865 }, { lat: 41.980389, lng: -2.730488 }, { lat: 41.980012, lng: -2.729960 }, { lat: 41.979597, lng: -2.729458 }, { lat: 41.979071, lng: -2.729234 }, { lat: 41.978582, lng: -2.728883 }, { lat: 41.978224, lng: -2.728657 }, { lat: 41.977792, lng: -2.728659 }, { lat: 41.977380, lng: -2.728962 }, { lat: 41.977681, lng: -2.729062 }, { lat: 41.978020, lng: -2.729362 }, { lat: 41.978360, lng: -2.729663 }, { lat: 41.978116, lng: -2.729865 }, { lat: 41.977572, lng: -2.730018 }, { lat: 41.977291, lng: -2.730296 }, { lat: 41.978100, lng: -2.730822 }, { lat: 41.978723, lng: -2.731826 }, { lat: 41.979345, lng: -2.732478 }, { lat: 41.979947, lng: -2.732702 }, { lat: 41.980042, lng: -2.732887 }, { lat: 41.979841, lng: -2.733131 }, { lat: 41.979555, lng: -2.733095 }, { lat: 41.979270, lng: -2.732960 }, { lat: 41.978956, lng: -2.732764 }, { lat: 41.978615, lng: -2.732494 }, { lat: 41.978265, lng: -2.732285 }, { lat: 41.977933, lng: -2.732014 }, { lat: 41.977601, lng: -2.731917 }, { lat: 41.977196, lng: -2.731918 }, { lat: 41.976791, lng: -2.731945 }, { lat: 41.976396, lng: -2.732057 }, { lat: 41.975982, lng: -2.732108 }, { lat: 41.975614, lng: -2.732171 }, { lat: 41.975302, lng: -2.732518 }, { lat: 41.974998, lng: -2.732728 }, { lat: 41.974649, lng: -2.732816 }, { lat: 41.974271, lng: -2.732780 }, { lat: 41.973885, lng: -2.732745 }, { lat: 41.973480, lng: -2.732820 }, { lat: 41.973066, lng: -2.732883 }, { lat: 41.972771, lng: -2.732971 }, { lat: 41.972606, lng: -2.732964 }, { lat: 41.972049, lng: -2.732954 }, { lat: 41.971472, lng: -2.732703 }, { lat: 41.970848, lng: -2.732352 }, { lat: 41.970280, lng: -2.731962 }, { lat: 41.969713, lng: -2.731573 }, { lat: 41.969155, lng: -2.731259 }, { lat: 41.968615, lng: -2.730869 }, { lat: 41.968113, lng: -2.730315 }, { lat: 41.967660, lng: -2.730254 }, { lat: 41.967131, lng: -2.730257 }, { lat: 41.966592, lng: -2.730133 }, { lat: 41.966082, lng: -2.729945 }, { lat: 41.965816, lng: -2.729555 }, { lat: 41.965608, lng: -2.729277 }, { lat: 41.965002, lng: -2.728875 }, { lat: 41.964425, lng: -2.728423 }, { lat: 41.963990, lng: -2.727957 }, { lat: 41.963601, lng: -2.727428 }, { lat: 41.963212, lng: -2.726898 }, { lat: 41.962824, lng: -2.726369 }, { lat: 41.962473, lng: -2.725877 }, { lat: 41.962123, lng: -2.725525 }, { lat: 41.961735, lng: -2.725337 }, { lat: 41.961291, lng: -2.725314 }, { lat: 41.960856, lng: -2.725354 }, { lat: 41.960449, lng: -2.725090 }, { lat: 41.960042, lng: -2.724751 }, { lat: 41.959654, lng: -2.724386 }, { lat: 41.959285, lng: -2.723996 }, { lat: 41.958925, lng: -2.723567 }, { lat: 41.958565, lng: -2.723139 }, { lat: 41.958205, lng: -2.722711 }, { lat: 41.957854, lng: -2.722371 }, { lat: 41.957523, lng: -2.722006 }, { lat: 41.957200, lng: -2.721249 }, { lat: 41.956801, lng: -2.720504 }, { lat: 41.956422, lng: -2.719975 }, { lat: 41.955967, lng: -2.719459 }, { lat: 41.955484, lng: -2.719043 }, { lat: 41.954964, lng: -2.718730 }, { lat: 41.954444, lng: -2.718492 }, { lat: 41.953924, lng: -2.718394 }, { lat: 41.953405, lng: -2.718333 }, { lat: 41.952885, lng: -2.718272 }, { lat: 41.952365, lng: -2.718098 }, { lat: 41.951883, lng: -2.718151 }, { lat: 41.951401, lng: -2.718064 }, { lat: 41.950899, lng: -2.717536 }, { lat: 41.950445, lng: -2.717007 }, { lat: 41.949990, lng: -2.716465 }, { lat: 41.949535, lng: -2.715924 }, { lat: 41.949052, lng: -2.715559 }, { lat: 41.948532, lng: -2.715296 }, { lat: 41.948012, lng: -2.715084 }, { lat: 41.947492, lng: -2.714871 }, { lat: 41.947000, lng: -2.714596 }, { lat: 41.946509, lng: -2.714320 }, { lat: 41.946064, lng: -2.714234 }, { lat: 41.945582, lng: -2.713958 }, { lat: 41.945099, lng: -2.713505 }, { lat: 41.944607, lng: -2.713166 }, { lat: 41.944134, lng: -2.712814 }, { lat: 41.943566, lng: -2.712425 }, { lat: 41.943008, lng: -2.711998 }, { lat: 41.942715, lng: -2.711886 }, { lat: 41.942374, lng: -2.711774 }, { lat: 41.942034, lng: -2.711662 }, { lat: 41.941835, lng: -2.711536 }, { lat: 41.941636, lng: -2.711373 }, { lat: 41.941437, lng: -2.711324 }, { lat: 41.941239, lng: -2.711325 }, { lat: 41.941078, lng: -2.711174 }, { lat: 41.940954, lng: -2.710783 }, { lat: 41.940623, lng: -2.710861 }, { lat: 41.940179, lng: -2.710787 }, { lat: 41.939612, lng: -2.710587 }, { lat: 41.939035, lng: -2.710464 }, { lat: 41.938496, lng: -2.710113 }, { lat: 41.938514, lng: -2.709797 }, { lat: 41.938522, lng: -2.709481 }, { lat: 41.938276, lng: -2.709318 }, { lat: 41.937992, lng: -2.709269 }, { lat: 41.937708, lng: -2.708941 }, { lat: 41.937319, lng: -2.708235 }, { lat: 41.936911, lng: -2.707681 }, { lat: 41.936560, lng: -2.707089 }, { lat: 41.936181, lng: -2.706648 }, { lat: 41.935774, lng: -2.706322 }, { lat: 41.935301, lng: -2.706096 }, { lat: 41.934828, lng: -2.705871 }, { lat: 41.934299, lng: -2.705798 }, { lat: 41.933742, lng: -2.705801 }, { lat: 41.933185, lng: -2.705804 }, { lat: 41.932656, lng: -2.705806 }, { lat: 41.932391, lng: -2.705631 }, { lat: 41.932201, lng: -2.705253 }, { lat: 41.931916, lng: -2.704964 }, { lat: 41.931811, lng: -2.704471 }, { lat: 41.931507, lng: -2.703904 }, { lat: 41.931430, lng: -2.703310 }, { lat: 41.931362, lng: -2.702729 }, { lat: 41.931351, lng: -2.702224 }, { lat: 41.931340, lng: -2.701718 }, { lat: 41.931329, lng: -2.701213 }, { lat: 41.931214, lng: -2.700721 }, { lat: 41.931156, lng: -2.700304 }, { lat: 41.931032, lng: -2.699963 }, { lat: 41.930908, lng: -2.699623 }, { lat: 41.930690, lng: -2.699371 }, { lat: 41.930453, lng: -2.699145 }, { lat: 41.930216, lng: -2.698944 }, { lat: 41.930045, lng: -2.698667 }, { lat: 41.929714, lng: -2.698403 }, { lat: 41.929411, lng: -2.698076 }, { lat: 41.929117, lng: -2.697572 }, { lat: 41.928822, lng: -2.697068 }, { lat: 41.928802, lng: -2.696651 }, { lat: 41.928762, lng: -2.695918 }, { lat: 41.928694, lng: -2.695186 }, { lat: 41.928550, lng: -2.694504 }, { lat: 41.928501, lng: -2.693746 }, { lat: 41.928376, lng: -2.693013 }, { lat: 41.928223, lng: -2.692281 }, { lat: 41.928070, lng: -2.691549 }, { lat: 41.928114, lng: -2.690803 }, { lat: 41.928027, lng: -2.690020 }, { lat: 41.927864, lng: -2.689237 }, { lat: 41.927673, lng: -2.688543 }, { lat: 41.927614, lng: -2.687848 }, { lat: 41.927556, lng: -2.687153 }, { lat: 41.927591, lng: -2.686470 }, { lat: 41.927684, lng: -2.685800 }, { lat: 41.927776, lng: -2.685130 }, { lat: 41.927868, lng: -2.684460 }, { lat: 41.927942, lng: -2.683777 }, { lat: 41.927968, lng: -2.683094 }, { lat: 41.927909, lng: -2.682399 }, { lat: 41.927737, lng: -2.681794 }, { lat: 41.927537, lng: -2.681327 }, { lat: 41.927441, lng: -2.680759 }, { lat: 41.927440, lng: -2.680329 }, { lat: 41.927504, lng: -2.679723 }, { lat: 41.927559, lng: -2.679166 }, { lat: 41.927434, lng: -2.678649 }, { lat: 41.927234, lng: -2.678132 }, { lat: 41.926987, lng: -2.677627 }, { lat: 41.926768, lng: -2.677123 }, { lat: 41.926559, lng: -2.676619 }, { lat: 41.926331, lng: -2.676127 }, { lat: 41.926103, lng: -2.675635 }, { lat: 41.925893, lng: -2.675144 }, { lat: 41.925599, lng: -2.674678 }, { lat: 41.925286, lng: -2.674262 }, { lat: 41.924973, lng: -2.673619 }, { lat: 41.924715, lng: -2.672938 }, { lat: 41.924487, lng: -2.672257 }, { lat: 41.924239, lng: -2.671690 }, { lat: 41.923917, lng: -2.671224 }, { lat: 41.923575, lng: -2.670783 }, { lat: 41.923234, lng: -2.670406 }, { lat: 41.922903, lng: -2.670092 }, { lat: 41.922581, lng: -2.669753 }, { lat: 41.922560, lng: -2.669310 }, { lat: 41.922559, lng: -2.668982 }, { lat: 41.922349, lng: -2.668326 }, { lat: 41.921960, lng: -2.667747 }, { lat: 41.921496, lng: -2.667509 }, { lat: 41.920986, lng: -2.667360 }, { lat: 41.920476, lng: -2.667224 }, { lat: 41.919965, lng: -2.667088 }, { lat: 41.919483, lng: -2.666901 }, { lat: 41.919000, lng: -2.666740 }, { lat: 41.918415, lng: -2.666920 }, { lat: 41.917802, lng: -2.667062 }, { lat: 41.917207, lng: -2.667230 }, { lat: 41.916680, lng: -2.667751 }, { lat: 41.916342, lng: -2.668537 }, { lat: 41.916127, lng: -2.669347 }, { lat: 41.916119, lng: -2.670030 }, { lat: 41.916084, lng: -2.670915 }, { lat: 41.915981, lng: -2.671283 }, { lat: 41.915878, lng: -2.671650 }, { lat: 41.915576, lng: -2.671816 }, { lat: 41.915284, lng: -2.672210 }, { lat: 41.914869, lng: -2.672528 }, { lat: 41.914483, lng: -2.673137 }, { lat: 41.914098, lng: -2.673885 }, { lat: 41.914147, lng: -2.674441 }, { lat: 41.914064, lng: -2.675251 }, { lat: 41.913764, lng: -2.676201 }, { lat: 41.913465, lng: -2.677226 }, { lat: 41.913184, lng: -2.678226 }, { lat: 41.912931, lng: -2.679151 }, { lat: 41.912942, lng: -2.679644 }, { lat: 41.912934, lng: -2.680314 }, { lat: 41.913094, lng: -2.680276 }, { lat: 41.913263, lng: -2.680123 }, { lat: 41.913387, lng: -2.680414 }, { lat: 41.913520, lng: -2.680881 }, { lat: 41.913531, lng: -2.681425 }, { lat: 41.913532, lng: -2.682107 }, { lat: 41.913836, lng: -2.682624 }, { lat: 41.914128, lng: -2.682813 }, { lat: 41.914279, lng: -2.682610 }, { lat: 41.914411, lng: -2.682585 }, { lat: 41.914600, lng: -2.682925 }, { lat: 41.915100, lng: -2.683024 }, { lat: 41.915639, lng: -2.683085 }, { lat: 41.916176, lng: -2.683120 }, { lat: 41.916621, lng: -2.683333 }, { lat: 41.917046, lng: -2.683711 }, { lat: 41.917444, lng: -2.684151 }, { lat: 41.917841, lng: -2.684592 }, { lat: 41.918239, lng: -2.685033 }, { lat: 41.918381, lng: -2.685437 }, { lat: 41.918486, lng: -2.685930 }, { lat: 41.918449, lng: -2.686410 }, { lat: 41.918337, lng: -2.686891 }, { lat: 41.918206, lng: -2.687347 }, { lat: 41.918283, lng: -2.687878 }, { lat: 41.918758, lng: -2.689001 }, { lat: 41.919478, lng: -2.690249 }, { lat: 41.920217, lng: -2.691333 }, { lat: 41.920956, lng: -2.692303 }, { lat: 41.921268, lng: -2.692681 }, { lat: 41.921306, lng: -2.692517 }, { lat: 41.921210, lng: -2.692113 }, { lat: 41.921114, lng: -2.691709 }, { lat: 41.920999, lng: -2.691268 }, { lat: 41.920904, lng: -2.690814 }, { lat: 41.920817, lng: -2.690347 }, { lat: 41.920731, lng: -2.689879 }, { lat: 41.920644, lng: -2.689425 }, { lat: 41.920671, lng: -2.688957 }, { lat: 41.920726, lng: -2.688414 }, { lat: 41.920800, lng: -2.687883 }, { lat: 41.920893, lng: -2.687529 }, { lat: 41.921035, lng: -2.687768 }, { lat: 41.921149, lng: -2.688071 }, { lat: 41.921242, lng: -2.687983 }, { lat: 41.921336, lng: -2.687616 }, { lat: 41.921439, lng: -2.687375 }, { lat: 41.921543, lng: -2.687540 }, { lat: 41.921647, lng: -2.687767 }, { lat: 41.921741, lng: -2.687678 }, { lat: 41.921835, lng: -2.687514 }, { lat: 41.921920, lng: -2.687615 }, { lat: 41.921911, lng: -2.687868 }, { lat: 41.921949, lng: -2.688247 }, { lat: 41.922101, lng: -2.688588 }, { lat: 41.922158, lng: -2.688985 }, { lat: 41.922296, lng: -2.689475 }, { lat: 41.922397, lng: -2.689955 }, { lat: 41.922474, lng: -2.690364 }, { lat: 41.922650, lng: -2.690731 }, { lat: 41.922849, lng: -2.691006 }, { lat: 41.923017, lng: -2.691322 }, { lat: 41.923155, lng: -2.691659 }, { lat: 41.923301, lng: -2.691955 }, { lat: 41.923500, lng: -2.692230 }, { lat: 41.923592, lng: -2.692567 }, { lat: 41.923547, lng: -2.692935 }, { lat: 41.923678, lng: -2.693568 }, { lat: 41.923832, lng: -2.694191 }, { lat: 41.923856, lng: -2.694702 }, { lat: 41.923918, lng: -2.695335 }, { lat: 41.923912, lng: -2.695897 }, { lat: 41.923906, lng: -2.696449 }, { lat: 41.924128, lng: -2.697020 }, { lat: 41.924388, lng: -2.697438 }, { lat: 41.924389, lng: -2.697929 }, { lat: 41.924352, lng: -2.698553 }, { lat: 41.924399, lng: -2.698849 }, { lat: 41.924467, lng: -2.699481 }, { lat: 41.924902, lng: -2.700120 }, { lat: 41.925368, lng: -2.701139 }, { lat: 41.925713, lng: -2.701738 }, { lat: 41.926058, lng: -2.702017 }, { lat: 41.926089, lng: -2.702558 }, { lat: 41.926224, lng: -2.703118 }, { lat: 41.926450, lng: -2.703597 }, { lat: 41.926674, lng: -2.703837 }, { lat: 41.926869, lng: -2.704136 }, { lat: 41.926990, lng: -2.704596 }, { lat: 41.927065, lng: -2.704977 }, { lat: 41.927140, lng: -2.705357 }, { lat: 41.927471, lng: -2.705996 }, { lat: 41.927966, lng: -2.706975 }, { lat: 41.928462, lng: -2.707954 }, { lat: 41.928958, lng: -2.709033 }, { lat: 41.929453, lng: -2.710012 }, { lat: 41.929949, lng: -2.710991 }, { lat: 41.930444, lng: -2.711970 }, { lat: 41.930984, lng: -2.712729 }, { lat: 41.931115, lng: -2.713146 }, { lat: 41.931334, lng: -2.713363 }, { lat: 41.931740, lng: -2.713479 }, { lat: 41.932022, lng: -2.713536 }, { lat: 41.932297, lng: -2.713577 }, { lat: 41.932485, lng: -2.713786 }, { lat: 41.932717, lng: -2.714078 }, { lat: 41.932924, lng: -2.714396 }, { lat: 41.932912, lng: -2.714706 }, { lat: 41.932863, lng: -2.715101 }, { lat: 41.932913, lng: -2.715369 }, { lat: 41.933232, lng: -2.715627 }, { lat: 41.933633, lng: -2.715969 }, { lat: 41.934028, lng: -2.716328 }, { lat: 41.934423, lng: -2.716687 }, { lat: 41.934818, lng: -2.717045 }, { lat: 41.935213, lng: -2.717404 }, { lat: 41.935450, lng: -2.717546 }, { lat: 41.935587, lng: -2.717395 }, { lat: 41.935724, lng: -2.717193 }, { lat: 41.935862, lng: -2.717260 }, { lat: 41.936049, lng: -2.717427 }, { lat: 41.936094, lng: -2.717620 }, { lat: 41.936056, lng: -2.717863 }, { lat: 41.936138, lng: -2.718014 }, { lat: 41.936563, lng: -2.718113 }, { lat: 41.936988, lng: -2.718211 }, { lat: 41.937414, lng: -2.718310 }, { lat: 41.937839, lng: -2.718409 }, { lat: 41.938264, lng: -2.718508 }, { lat: 41.938677, lng: -2.718582 }, { lat: 41.939265, lng: -2.718806 }, { lat: 41.939853, lng: -2.719030 }, { lat: 41.940442, lng: -2.719237 }, { lat: 41.941012, lng: -2.719528 }, { lat: 41.941575, lng: -2.719853 }, { lat: 41.942139, lng: -2.720194 }, { lat: 41.942702, lng: -2.720535 }, { lat: 41.943266, lng: -2.720877 }, { lat: 41.943830, lng: -2.721218 }, { lat: 41.944393, lng: -2.721559 }, { lat: 41.944957, lng: -2.721901 }, { lat: 41.945520, lng: -2.722192 }, { lat: 41.946084, lng: -2.722483 }, { lat: 41.946647, lng: -2.722790 }, { lat: 41.947186, lng: -2.723232 }, { lat: 41.947543, lng: -2.723483 }, { lat: 41.947743, lng: -2.723473 }, { lat: 41.947993, lng: -2.723548 }, { lat: 41.948249, lng: -2.723748 }, { lat: 41.948375, lng: -2.723983 }, { lat: 41.948431, lng: -2.724192 }, { lat: 41.948851, lng: -2.724476 }, { lat: 41.949358, lng: -2.724884 }, { lat: 41.949890, lng: -2.725226 }, { lat: 41.950423, lng: -2.725567 }, { lat: 41.950942, lng: -2.725875 }, { lat: 41.951456, lng: -2.726192 }, { lat: 41.951938, lng: -2.726559 }, { lat: 41.952383, lng: -2.726867 }, { lat: 41.952827, lng: -2.727151 }, { lat: 41.953266, lng: -2.727409 }, { lat: 41.953704, lng: -2.727667 }, { lat: 41.954111, lng: -2.727900 }, { lat: 41.954517, lng: -2.728125 }, { lat: 41.954880, lng: -2.728291 }, { lat: 41.955187, lng: -2.728517 }, { lat: 41.955500, lng: -2.728784 }, { lat: 41.955820, lng: -2.729000 }, { lat: 41.956108, lng: -2.729326 }, { lat: 41.956403, lng: -2.729761 }, { lat: 41.956660, lng: -2.730070 }, { lat: 41.956916, lng: -2.730237 }, { lat: 41.957173, lng: -2.730471 }, { lat: 41.957417, lng: -2.730646 }, { lat: 41.957649, lng: -2.730763 }, { lat: 41.957830, lng: -2.730855 }, { lat: 41.958005, lng: -2.730913 }, { lat: 41.958168, lng: -2.731013 }, { lat: 41.958331, lng: -2.731264 }, { lat: 41.958493, lng: -2.731372 }, { lat: 41.958725, lng: -2.731405 }, { lat: 41.958956, lng: -2.731480 }, { lat: 41.959200, lng: -2.731580 }, { lat: 41.959444, lng: -2.731646 }, { lat: 41.959688, lng: -2.731712 }, { lat: 41.959913, lng: -2.731745 }, { lat: 41.960107, lng: -2.731820 }, { lat: 41.960300, lng: -2.731870 }, { lat: 41.960494, lng: -2.731919 }, { lat: 41.960688, lng: -2.731969 }, { lat: 41.960882, lng: -2.732019 }, { lat: 41.961075, lng: -2.732052 }, { lat: 41.961269, lng: -2.732010 }, { lat: 41.961413, lng: -2.732060 }, { lat: 41.961688, lng: -2.732168 }, { lat: 41.961976, lng: -2.732242 }, { lat: 41.962263, lng: -2.732300 }, { lat: 41.962551, lng: -2.732357 }, { lat: 41.962839, lng: -2.732465 }, { lat: 41.963127, lng: -2.732548 }, { lat: 41.963408, lng: -2.732631 }, { lat: 41.963646, lng: -2.732714 }, { lat: 41.963871, lng: -2.732806 }, { lat: 41.964090, lng: -2.732864 }, { lat: 41.964308, lng: -2.732922 }, { lat: 41.964527, lng: -2.732980 }, { lat: 41.964746, lng: -2.733038 }, { lat: 41.964927, lng: -2.733096 }, { lat: 41.965058, lng: -2.733020 }, { lat: 41.965176, lng: -2.732894 }, { lat: 41.965307, lng: -2.732818 }, { lat: 41.965514, lng: -2.732843 }, { lat: 41.965720, lng: -2.732867 }, { lat: 41.965895, lng: -2.732942 }, { lat: 41.966051, lng: -2.733118 }, { lat: 41.966208, lng: -2.733294 }, { lat: 41.966327, lng: -2.733562 }, { lat: 41.966446, lng: -2.733821 }, { lat: 41.966572, lng: -2.734031 }, { lat: 41.966616, lng: -2.734198 }, { lat: 41.966753, lng: -2.734265 }, { lat: 41.967116, lng: -2.734406 }, { lat: 41.967479, lng: -2.734514 }, { lat: 41.967873, lng: -2.734588 }, { lat: 41.968267, lng: -2.734704 }, { lat: 41.968661, lng: -2.734837 }, { lat: 41.969055, lng: -2.734970 }, { lat: 41.969437, lng: -2.735144 }, { lat: 41.969800, lng: -2.735403 }, { lat: 41.970163, lng: -2.735662 }, { lat: 41.970526, lng: -2.735937 }, { lat: 41.970902, lng: -2.736120 }, { lat: 41.971240, lng: -2.736354 }, { lat: 41.971440, lng: -2.736387 }, { lat: 41.971625, lng: -2.736363 }, { lat: 41.971997, lng: -2.736322 }, { lat: 41.972336, lng: -2.736352 }, { lat: 41.972610, lng: -2.736425 }, { lat: 41.972759, lng: -2.736635 }, { lat: 41.972807, lng: -2.736971 }, { lat: 41.972988, lng: -2.737234 }, { lat: 41.973332, lng: -2.737391 }, { lat: 41.973718, lng: -2.737978 }, { lat: 41.974137, lng: -2.738297 }, { lat: 41.975125, lng: -2.739035 }, { lat: 41.976064, lng: -2.739676 }, { lat: 41.976980, lng: -2.740189 }, { lat: 41.977895, lng: -2.740669 }, { lat: 41.978811, lng: -2.741149 }, { lat: 41.979726, lng: -2.741533 }, { lat: 41.980616, lng: -2.741659 }, { lat: 41.981363, lng: -2.741914 }, { lat: 41.982085, lng: -2.742201 }, { lat: 41.982807, lng: -2.742554 }, { lat: 41.983530, lng: -2.742809 }, { lat: 41.984252, lng: -2.743064 }, { lat: 41.984974, lng: -2.743320 }, { lat: 41.985534, lng: -2.743550 }, { lat: 41.985488, lng: -2.743902 }, { lat: 41.985353, lng: -2.744569 }, { lat: 41.984817, lng: -2.745051 }, { lat: 41.984282, lng: -2.745821 }, { lat: 41.983746, lng: -2.746591 }, { lat: 41.983211, lng: -2.747361 }, { lat: 41.982640, lng: -2.748179 }, { lat: 41.982069, lng: -2.748997 }, { lat: 41.981498, lng: -2.749815 }, { lat: 41.980927, lng: -2.750633 }, { lat: 41.980356, lng: -2.751451 }, { lat: 41.979642, lng: -2.752222 }, { lat: 41.979323, lng: -2.753615 }, { lat: 41.979145, lng: -2.754239 }, { lat: 41.979145, lng: -2.754239 }, { lat: 41.979460, lng: -2.754339 }, { lat: 41.980068, lng: -2.754183 }, { lat: 41.980978, lng: -2.753767 }, { lat: 41.981544, lng: -2.753569 }, { lat: 41.981860, lng: -2.753332 }, { lat: 41.982322, lng: -2.753067 }, { lat: 41.982862, lng: -2.752933 }, { lat: 41.983507, lng: -2.752883 }, { lat: 41.984152, lng: -2.752862 }, { lat: 41.984776, lng: -2.752859 }, { lat: 41.985324, lng: -2.752970 }, { lat: 41.985865, lng: -2.753305 }, { lat: 41.986364, lng: -2.753745 }, { lat: 41.986926, lng: -2.754128 }, { lat: 41.987256, lng: -2.754273 }, { lat: 41.987826, lng: -2.754143 }, { lat: 41.988314, lng: -2.753558 }, { lat: 41.988939, lng: -2.753082 }, { lat: 41.989576, lng: -2.752715 }, { lat: 41.990242, lng: -2.752439 }, { lat: 41.990867, lng: -2.752254 }, { lat: 41.991383, lng: -2.752288 }, { lat: 41.991995, lng: -2.752359 }, { lat: 41.992634, lng: -2.752465 }, { lat: 41.993273, lng: -2.752644 }, { lat: 41.993912, lng: -2.752733 }, { lat: 41.994510, lng: -2.752876 }, { lat: 41.994973, lng: -2.753038 }, { lat: 41.995394, lng: -2.752908 }, { lat: 41.995814, lng: -2.752652 }, { lat: 41.996167, lng: -2.752231 }, { lat: 41.996588, lng: -2.751865 }, { lat: 41.997094, lng: -2.751767 }, { lat: 41.997626, lng: -2.751720 }, { lat: 41.998160, lng: -2.751918 }, { lat: 41.998693, lng: -2.752139 }, { lat: 41.999226, lng: -2.752360 }, { lat: 41.999610, lng: -2.752715 }, { lat: 42.000011, lng: -2.753271 }, { lat: 42.000396, lng: -2.754117 }, { lat: 42.000781, lng: -2.754963 }, { lat: 42.001165, lng: -2.755453 }, { lat: 42.001183, lng: -2.756189 }, { lat: 42.001418, lng: -2.756834 }, { lat: 42.001868, lng: -2.757279 }, { lat: 42.002351, lng: -2.757344 }, { lat: 42.002985, lng: -2.758010 }, { lat: 42.003769, lng: -2.758632 }, { lat: 42.004553, lng: -2.759365 }, { lat: 42.005337, lng: -2.760098 }, { lat: 42.006154, lng: -2.760786 }, { lat: 42.006721, lng: -2.761208 }, { lat: 42.007121, lng: -2.761407 }, { lat: 42.007537, lng: -2.761204 }, { lat: 42.007754, lng: -2.761427 }, { lat: 42.007855, lng: -2.761783 }, { lat: 42.008172, lng: -2.761848 }, { lat: 42.008473, lng: -2.762182 }, { lat: 42.008789, lng: -2.762069 }, { lat: 42.009072, lng: -2.762045 }, { lat: 42.009422, lng: -2.762066 }, { lat: 42.009615, lng: -2.762131 }, { lat: 42.009616, lng: -2.762317 }, { lat: 42.009059, lng: -2.762289 }, { lat: 42.008866, lng: -2.762304 }, { lat: 42.008753, lng: -2.762488 }, { lat: 42.008890, lng: -2.762685 }, { lat: 42.009163, lng: -2.762760 }, { lat: 42.009459, lng: -2.762850 }, { lat: 42.009755, lng: -2.762940 }, { lat: 42.009971, lng: -2.762924 }, { lat: 42.010130, lng: -2.762709 }, { lat: 42.010289, lng: -2.762495 }, { lat: 42.010448, lng: -2.762418 }, { lat: 42.010664, lng: -2.762387 }, { lat: 42.010971, lng: -2.762416 }, { lat: 42.011290, lng: -2.762491 }, { lat: 42.011597, lng: -2.762642 }, { lat: 42.011859, lng: -2.762960 }, { lat: 42.012030, lng: -2.763005 }, { lat: 42.012326, lng: -2.763034 }, { lat: 42.012633, lng: -2.763200 }, { lat: 42.012873, lng: -2.763428 }, { lat: 42.013112, lng: -2.763564 }, { lat: 42.013408, lng: -2.763684 }, { lat: 42.013647, lng: -2.763927 }, { lat: 42.013852, lng: -2.764231 }, { lat: 42.014058, lng: -2.764474 }, { lat: 42.014399, lng: -2.764579 }, { lat: 42.014638, lng: -2.764623 }, { lat: 42.014832, lng: -2.765049 }, { lat: 42.014992, lng: -2.765399 }, { lat: 42.015049, lng: -2.765124 }, { lat: 42.015356, lng: -2.765077 }, { lat: 42.015742, lng: -2.765060 }, { lat: 42.016323, lng: -2.765575 }, { lat: 42.017142, lng: -2.765907 }, { lat: 42.017905, lng: -2.766346 }, { lat: 42.018292, lng: -2.766527 }, { lat: 42.018463, lng: -2.766679 }, { lat: 42.018747, lng: -2.766754 }, { lat: 42.019043, lng: -2.766890 }, { lat: 42.019339, lng: -2.767025 }, { lat: 42.019669, lng: -2.767161 }, { lat: 42.019999, lng: -2.767327 }, { lat: 42.020295, lng: -2.767585 }, { lat: 42.020557, lng: -2.767751 }, { lat: 42.020762, lng: -2.767827 }, { lat: 42.020932, lng: -2.767552 }, { lat: 42.021078, lng: -2.766377 }, { lat: 42.021223, lng: -2.765020 }, { lat: 42.021333, lng: -2.763465 }, { lat: 42.021444, lng: -2.761910 }, { lat: 42.021657, lng: -2.760446 }, { lat: 42.021895, lng: -2.759897 }, { lat: 42.021987, lng: -2.759699 }, { lat: 42.022172, lng: -2.759077 }, { lat: 42.022263, lng: -2.758491 }, { lat: 42.022670, lng: -2.757987 }, { lat: 42.023114, lng: -2.757239 }, { lat: 42.023247, lng: -2.756880 }, { lat: 42.023491, lng: -2.756550 }, { lat: 42.023669, lng: -2.756400 }, { lat: 42.023891, lng: -2.756250 }, { lat: 42.023968, lng: -2.756178 }, { lat: 42.024031, lng: -2.756092 }, { lat: 42.024083, lng: -2.755999 }, { lat: 42.024216, lng: -2.755913 }, { lat: 42.024510, lng: -2.755693 }, { lat: 42.024947, lng: -2.755762 }, { lat: 42.025384, lng: -2.755867 }, { lat: 42.025874, lng: -2.755900 }, { lat: 42.026377, lng: -2.756058 }, { lat: 42.026881, lng: -2.756180 }, { lat: 42.027357, lng: -2.756107 }, { lat: 42.027833, lng: -2.755803 }, { lat: 42.028309, lng: -2.755606 }, { lat: 42.028812, lng: -2.755586 }, { lat: 42.029315, lng: -2.755584 }, { lat: 42.029885, lng: -2.755599 }, { lat: 42.030494, lng: -2.755898 }, { lat: 42.031117, lng: -2.756286 }, { lat: 42.031767, lng: -2.756763 }, { lat: 42.032377, lng: -2.757239 }, { lat: 42.032577, lng: -2.757966 }, { lat: 42.032870, lng: -2.758746 }, { lat: 42.033256, lng: -2.759560 }, { lat: 42.033681, lng: -2.760268 }, { lat: 42.033987, lng: -2.760595 }, { lat: 42.034191, lng: -2.760811 }, { lat: 42.034543, lng: -2.761046 }, { lat: 42.034942, lng: -2.761207 }, { lat: 42.035341, lng: -2.761332 }, { lat: 42.035598, lng: -2.761448 }, { lat: 42.035862, lng: -2.761655 }, { lat: 42.036106, lng: -2.761962 }, { lat: 42.036343, lng: -2.762314 }, { lat: 42.036601, lng: -2.762603 }, { lat: 42.036858, lng: -2.762919 }, { lat: 42.037041, lng: -2.763253 }, { lat: 42.037285, lng: -2.763352 }, { lat: 42.037448, lng: -2.763523 }, { lat: 42.037543, lng: -2.763885 }, { lat: 42.037639, lng: -2.764247 }, { lat: 42.037707, lng: -2.764500 }, { lat: 42.037661, lng: -2.764799 }, { lat: 42.037790, lng: -2.765061 }, { lat: 42.037865, lng: -2.765350 }, { lat: 42.037893, lng: -2.765685 }, { lat: 42.037961, lng: -2.765974 }, { lat: 42.038063, lng: -2.766155 }, { lat: 42.038050, lng: -2.766481 }, { lat: 42.037964, lng: -2.766897 }, { lat: 42.037891, lng: -2.767359 }, { lat: 42.037804, lng: -2.767812 }, { lat: 42.037650, lng: -2.768229 }, { lat: 42.037489, lng: -2.768701 }, { lat: 42.037355, lng: -2.769154 }, { lat: 42.037120, lng: -2.769526 }, { lat: 42.036978, lng: -2.769707 }, { lat: 42.036803, lng: -2.769862 }, { lat: 42.036716, lng: -2.770133 }, { lat: 42.036690, lng: -2.770414 }, { lat: 42.036617, lng: -2.770668 }, { lat: 42.036631, lng: -2.770930 }, { lat: 42.036726, lng: -2.771110 }, { lat: 42.036734, lng: -2.771273 }, { lat: 42.036694, lng: -2.771545 }, { lat: 42.036654, lng: -2.771816 }, { lat: 42.036567, lng: -2.771980 }, { lat: 42.036439, lng: -2.772143 }, { lat: 42.036325, lng: -2.772388 }, { lat: 42.036272, lng: -2.772705 }, { lat: 42.036259, lng: -2.773058 }, { lat: 42.036281, lng: -2.773410 }, { lat: 42.036248, lng: -2.773773 }, { lat: 42.036242, lng: -2.774144 }, { lat: 42.036230, lng: -2.774570 }, { lat: 42.036231, lng: -2.775104 }, { lat: 42.036253, lng: -2.775710 }, { lat: 42.036241, lng: -2.776308 }, { lat: 42.036275, lng: -2.776625 }, { lat: 42.036351, lng: -2.776959 }, { lat: 42.036439, lng: -2.777276 }, { lat: 42.036582, lng: -2.777447 }, { lat: 42.036724, lng: -2.777764 }, { lat: 42.036914, lng: -2.778062 }, { lat: 42.037104, lng: -2.778423 }, { lat: 42.037294, lng: -2.778784 }, { lat: 42.037444, lng: -2.779427 }, { lat: 42.037581, lng: -2.780223 }, { lat: 42.037718, lng: -2.781101 }, { lat: 42.037855, lng: -2.781979 }, { lat: 42.038012, lng: -2.782857 }, { lat: 42.038170, lng: -2.783735 }, { lat: 42.038319, lng: -2.784671 }, { lat: 42.038423, lng: -2.784973 }];
    // end of demo values


    /* draw map: properies, markers*/
    myMap.initializeMap = function() {
        var mapProperties = {
            center: new google.maps.LatLng(ini.lat, ini.lng),
            zoom: ini.zoom,
            mapTypeId: google.maps.MapTypeId.TERRAIN,
            mapTypeControl: true,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                position: google.maps.ControlPosition.LEFT_BOTTOM
            },
            zoomControl: true,
            zoomControlOptions: {
                position: google.maps.ControlPosition.LEFT_BOTTOM
            },
            scaleControl: false,
            streetViewControl: false
        };

        myMap.map = new google.maps.Map(document.getElementById("googleMap"), mapProperties);
        /* setting route*/
        var route = new google.maps.Polyline({
            path: routeCoordinates,
            geodesic: true,
            strokeColor: '#FF0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        route.setMap(myMap.map);
        // start & finish points


        var start = new google.maps.Marker({
            position: new google.maps.LatLng(routeCoordinates[0]),
            map: myMap.map,
            icon: new google.maps.Marker({
                url: "img/start.png",
                anchor: new google.maps.Point(8, 9),
            }),
            title: 'Start !'
        });
        var finish = new google.maps.Marker({
            position: new google.maps.LatLng(routeCoordinates[routeCoordinates.length - 1]),
            map: myMap.map,
            icon: new google.maps.MarkerImage("img/finish.png"),
            title: 'Start !'
        });


    };





    /* ---- AJAX calls ----  */
    var ajax = {};
    ajax.initialize = {}; //has  .param (parameters)  & .func  (function)
    ajax.update = {};

    /* gets ajax data and refresh it every x seconds*/
    myMap.ajaxCalls = function(seconds) {
        $.ajax(ajax.initialize.param);
        setInterval(function() {
            $.ajax(ajax.update.param);
        }, seconds * 100);
    };


    ajax.initialize.param = { //called one time
        url: "http://gpsrace.herokuapp.com/dbData.php",
        data: "",
        dataType: 'json',
        success: function(response) {
            ajax.initialize.func(response);
        },
        error: function(xhr, status) {
            console.log('Error Ajax ajaxInitialize: ' + xhr + " - " + status);
        }
    };
    ajax.update.param = {
        url: "http://gpsrace.herokuapp.com/dbData.php",
        data: "",
        dataType: 'json',
        success: function(response) {
            ajax.update.func(response);
        },
        error: function(xhr, status) {
            console.log('Error Ajax ajaxUpdate: ' + xhr + " - " + status);
        }
    };

    /* ajax mannaging funtions */
    ajax.initialize.func = function(data) { //data
        myMap.dev = []; //  array of GPS devices. myMap is public
        myMap.sumDev = data.length; //amount of devices
        /* animates markers -drop */
        function setMarkerWithTimeout(deviceNum, timeout) {
            window.setTimeout(function() {
                myMap.dev[deviceNum].marker.setMap(myMap.map); //set marker on map
            }, timeout);
        }

        function markerOnClick(deviceNum) {
            /* selectDev(deviceNum)  function is in mapInfo.js
             **  actions to do when a device is clicked (either via marker or...
             ** ...via menu , etc )
             */
            myMap.dev[deviceNum].marker.addListener('click', function() { mapInfo.selectDev(deviceNum); });
        }




        /* loop for seting data for each device 
         **      myMap.dev = [].  stores the devices
         **      the first device is stored in myMap[1]
         **      therefore  myMap.dev[0] will have an undefined value
         **      in the same way myMap.dev[2] is the second device 
         */

        for (var i = myMap.sumDev; i > 0; i--) {
            // console.info("---- #" + i + ":  " + data[i-1].userName);
            // console.log(data[i-1].latitude + " , " + data[i-1].longitude);
            /* marker values from DB */
            myMap.dev[i] = {};
            myMap.dev[i].name = data[i - 1].userName;
            /* satelite data */
            myMap.dev[i].pos = new google.maps.LatLng(data[i - 1].latitude, data[i - 1].longitude);
            myMap.dev[i].direction = data[i - 1].direction;
            myMap.dev[i].distanceaccuracy = data[i - 1].distanceaccuracy;
            myMap.dev[i].accuracy = data[i - 1].accuracy;
            myMap.dev[i].country = data[i - 1].extraInfo;
            /* icon is an  26px/item sprite  */
            myMap.dev[i].icon = new google.maps.MarkerImage("img/gps.png",
                new google.maps.Size(26, 40), new google.maps.Point(26 * i - 26, 0));
            /* set markers on the map */
            myMap.dev[i].marker = new google.maps.Marker({
                position: myMap.dev[i].pos,
                icon: myMap.dev[i].icon,
                animation: google.maps.Animation.DROP
            });
            /* marker onclick*/
            markerOnClick(i);
            //set marker on map
            setMarkerWithTimeout(i, 200 * i);

        }
        /*-cascade- now we are ready to call the main function in mapInfo.js  file*/
        mapInfo.show(); //main devices menu @ mapInfo.js 
    };


    function addMarkerWithTimeout(position, timeout) {
        window.setTimeout(function() {
            markers.push(new google.maps.Marker({
                position: position,
                map: map,
                animation: google.maps.Animation.DROP
            }));
        }, timeout);
    }

    ajax.update.func = function(data) { //just updates gps possitioning values
        console.info('data updated');
        for (var i = data.length; i > 0; i--) {
            // console.info("---- #" + i + ":  " + data[i-1].userName);
            // console.log(data[i-1].latitude + " , " + data[i-1].longitude);
            // marker values from DB
            myMap.dev[i].pos = new google.maps.LatLng(data[i - 1].latitude, data[i - 1].longitude);
            myMap.dev[i].direction = data[i - 1].direction;
            myMap.dev[i].distanceaccuracy = data[i - 1].distanceaccuracy;
            myMap.dev[i].accuracy = data[i - 1].accuracy;
        }
    };

}(window.myMap = window.myMap || {}, jQuery));
